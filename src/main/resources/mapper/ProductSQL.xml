<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="SQL.ProductSQL">
	<select id="getProductList" resultType="product"
		parameterType="product">
		select * from product
	</select>


	<select id="getProductListEndDate" resultType="product"
		parameterType="product">
		SELECT * FROM PRODUCT WHERE ROWNUM&lt;9 ORDER BY PRODUCTENDDATE;
	</select>



	<select id="getProduct" resultType="product"
		parameterType="product">
		select * from product where productNumber
		=#{productNumber}
	</select>
	<insert id="insertProduct" parameterType="product">

		insert into product(
		ProductNumber,
		ProductName,
		ProductCategory,

		ProductQuantity,
		ProductDate,
		ProductEndDate,

		ProductLowestPrice,
		ProductImage,
		ProductDesc,

		ProductBrand,
		ProductCondition,
		UserId,

		UserCreditLevel,
		UserNumber
		)
		values(
		SEQ_Product_ProductNum.nextval,
		#{productName},
		#{productCategory},

		#{productQuantity},
		to_char(SYSDATE,'YYYYMMDDHH24MISS'),
		to_char(SYSDATE+3,'YYYYMMDDHH24MISS'),

		#{productLowestPrice},
		#{productImage},
		#{productDesc},

		#{productBrand},
		#{productCondition},
		#{userId},

		#{userCreditLevel},
		#{userNumber}
		)





	</insert>
	<update id="updateProduct" parameterType="product">
		update product
		<set>
			<if test="productName !=null">ProductName =
				#{productName},
			</if>
			<if test="productCategory !=null">ProductCategory =
				#{productCategory},
			</if>

			<if test="productQuantity !=null">ProductQuantity =
				#{productQuantity},
			</if>
			<if test="productDate !=null">ProductDate =
				#{productDate},
			</if>
			<if test="productEndDate !=null">productEndDate =
				#{productEndDate},
			</if>


			<if test="productLowestPrice !=null">ProductLowestPrice =
				#{productLowestPrice},
			</if>


			<if test="productImage !=null">ProductImage =
				#{productImage},
			</if>
			<if test="productDesc !=null">ProductDesc =
				#{productDesc},
			</if>
			<if test="productBrand !=null">ProductBrand =
				#{productBrand},
			</if>


			<if test="productCondition !=null">ProductCondition =
				#{productCondition},
			</if>

			<if test="userId !=null">userId =
				#{userId},
			</if>

			<if test="userCreditLevel !=null">userCreditLevel =
				#{userCreditLevel},
			</if>
			<if test="userNumber !=null">userNumber =
				#{userNumber},
			</if>

		</set>
		where ProductNumber=#{productNumber}
	</update>

	<delete id="deleteProduct" parameterType="product">
		delete from
		product
		where ProductNumber=#{productNumber}
	</delete>

	<select id="getProductUserId" resultType="product"
		parameterType="product">
		select * from product where userId=#{userId}
	</select>



</mapper>